<%
var currentPage = page.name;
%>

<section class="api">

    <nav class="apinav">
    <% _.each(commands, function(pages, category) { %>

        <%
        // order commands
        function orderCommandName(a, b) {
            return a.name < b.name ? -1 : 1;
        }
        pages.sort(orderCommandName);
        %>

        <h3><a href="#" class="icon-folder-close-alt<% if (page.category === category) { %> active<% } %>" data-open="<%- category %>"><%- category %></a></h3>
        <div class="commands <%- category %><% if (page.category === category) { %> active<% } %>">
        
        <% _.each(pages, function(page){ %>

            <a href="/api/<%- category %>/<%- page.name %>"<% if (currentPage === page.name) { %> class="active"<% } %>><%- page.name %></a>

        <% }) %>
        </div>

    <% }) %>
    </nav>


    <article class="doc">
        <%
        var dir = page.category === 'protocol' ? 'protocol' : 'commands';
        %>
        <a href="https://github.com/camme/webdriverjs/blob/master/lib/<%- dir %>/<%- page.name %>.js" target="_blank" class="btn icon-search source">View Source</a>
        <a href="https://github.com/camme/webdriverjs/edit/master/lib/<%- dir %>/<%- page.name %>.js" target="_blank" class="btn icon-edit improve">Improve this doc</a>
        <%- page.content %>
    </article>

</section>